<!DOCTYPE html>
<html>
<head>
    <title>Bookmap: voronoi diagram with Hilbert coords</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link rel="stylesheet" href="style.css" />
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="booklist.js"></script>
    <script src="hilbert.js"></script> 
    <style type="text/css">
    </style>
</head>
<body>

<div id="nav">
    <p><a href="index.html">Static map</a> | <a
  href="vforce.html">Dynamic map</a> | <b>Hilbert curve</b></p>
</div>

<div id="notes">
  <p>The Hilbert Curve is a fractal which passes through every point
  on a unit square: it can be used to map 1D values into 2D while
  retaining the closeness of 1D neighbours.</p>
  

</div>

<script type="text/javascript">

function hcolour(dd) {
    return d3.hsl(360 * dd /1024, 1, 0.76).toString();
}


width = 600;

var svg = d3.select("body").append("svg")
.attr("id", "chart")
.attr("width", width)
    .attr("height", width);

lcoords = []

for( var i = 0; i < 1000; i++ ) {
//    scoords = _hilbert(i, 8);
//    coords = scoords.map(function (i) { return i * 9 });
//    coords = hilbert(i, 1024, 8, 600);
      coords = hbookmap(i);
    if( lcoords ) {
 svg.append("line")
.attr("class", "map")
.attr("stroke", hcolour(i))
.attr("stroke-width", 10)
.attr("x1", lcoords[0])
.attr("y1", lcoords[1])
.attr("x2", coords[0])
.attr("y2", coords[1])
    }
lcoords = coords;
}




</script>
</body>
</html>
